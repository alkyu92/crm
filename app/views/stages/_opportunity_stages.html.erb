<div class="container">
    <div class="row">
        <% if @opportunity.stages.blank? %>
        <br>
        <div class="text-center">
            No stages created yet.
        </div>
        <% else %>
        <div class="row">
            <div class="text-center">
                <strong>Opportunity Stages</strong>
            </div>
        </div>
        <br>
        <div class="stage">
          <%= render 'stages/stage' %>
        </div>
        <% end %>
        <!-- @opportunity.stages.blank? -->
    </div>
    <br>
    <div class="row pull-right">
        <div class="col-lg-12">
            <%= link_to 'Add Stage','#', class: "btn btn-default",
          data: {toggle: "modal", target: "#opportunityModalStage"}, remote: true %>
        </div>
    </div>
</div>

<!-- Modal -->
<div id="opportunityModalStage" class="modal fade" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Create New Stage</h4>
            </div>
            <div class="modal-body">
                <%= simple_form_for [@opportunity, @stage, Stage.new], remote: true do |f| %>
                <%= f.input :name, label: "Stage Name", autofocus: true, hint: "required" %>
            </div>
            <div class="modal-footer">
                <%= f.button :submit, class: "btn-success" %>
                <% end %>
                <%= link_to 'Cancel', '#', class: "btn btn-default", data: {dismiss: "modal"} %>
            </div>
        </div>
    </div>
</div>
